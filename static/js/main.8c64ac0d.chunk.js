(this["webpackJsonpshopify-frontend-typescript"]=this["webpackJsonpshopify-frontend-typescript"]||[]).push([[0],{105:function(e,t,a){},106:function(e,t,a){},107:function(e,t,a){},121:function(e,t,a){},143:function(e,t,a){},144:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),i=a(11),r=a.n(i),s=(a(95),a(24)),l=a(25),o=a.n(l),d=(a(97),a(14)),b=a(172),j=a(68),u=(a(98),a(6)),m=function(e){var t=e.id,a=e.label,n=e.date,c=e.onChange,i=function(e){c(e)};return Object(u.jsx)(d.a,{libInstance:o.a,utils:j.a,children:Object(u.jsx)(b.a,{id:t,label:a,disableToolbar:!0,variant:"inline",format:"YYYY-MM-DD",margin:"normal",autoOk:!0,inputValue:n,value:n,onChange:function(e,t){return i(t)},maxDate:new Date,KeyboardButtonProps:{"aria-label":"change date"}})})},h=(a(105),function(e){var t=e.startDate,a=e.clicker,n=e.setStartDate,c=e.setClicker;return Object(u.jsxs)("div",{id:"selection-bar",className:"selection-bar",children:[Object(u.jsx)(m,{id:"start-date",label:"Select Start Date",date:t,onChange:n,"aria-label":"Select Start Date"}),Object(u.jsx)("button",{type:"button",className:"btn ripple",onClick:function(){c(a+1)},"aria-label":"Click Here To Pull Images",children:"Click Here To Pull Images"})]})}),O=(a(106),function(e){var t=e.children;return Object(u.jsx)("div",{className:"layout",children:t})}),f=a(54),x=a(171),g=a(72),p=a.n(g),v=a(71),k=a.n(v),D=a(70),N=a.n(D),y=(a(107),a(108)),S=function(e){var t=e.image,a=Object(n.useState)(!1),c=Object(s.a)(a,2),i=c[0],r=c[1],l=Object(n.useState)(y.get(t.imageUrl)||!1),o=Object(s.a)(l,2),d=o[0],b=o[1],j=t.id,m=t.date,h=t.title,O=t.imageUrl,f=t.explanation;Object(n.useEffect)((function(){y.set(O,d)}),[d]);return Object(u.jsxs)("div",{id:"image-card-".concat(j),className:"image-card",children:[Object(u.jsxs)("div",{id:"image-header-".concat(j),children:[Object(u.jsx)("div",{id:"image-title-".concat(j),className:"image-title","aria-label":h,children:Object(u.jsx)("p",{children:h})}),Object(u.jsx)("div",{id:"image-date-".concat(j),className:"image-date","aria-label":m,children:Object(u.jsx)("p",{children:m})})]}),Object(u.jsx)("img",{id:"image-media-".concat(j),className:"image-media",alt:h,src:O}),Object(u.jsxs)("div",{className:"btn-section",children:[Object(u.jsx)("div",{children:Object(u.jsx)("button",{type:"button",id:"like-button-".concat(j),className:"like-btn",onClick:function(){b(!d)},"aria-pressed":d,"aria-label":"Like Button",children:d?Object(u.jsx)(N.a,{className:"liked-btn"}):Object(u.jsx)(k.a,{})})}),Object(u.jsx)("div",{children:Object(u.jsx)("button",{type:"button",id:"expand-button-".concat(j),className:"expand-btn",onClick:function(){r(!i)},"aria-expanded":i,"aria-label":"Expand Button","aria-controls":"image-description",children:Object(u.jsx)(p.a,{className:"expand ".concat(i?"expand-open":"")})})})]}),Object(u.jsx)("div",{role:"region",id:"image-description-".concat(j),className:"image-description",hidden:!i,"aria-label":f,"aria-labelledby":"expand-button-".concat(j),"aria-hidden":!i,children:Object(u.jsx)("p",{children:f})})]})},C=(a(121),function(e){var t=e.isLoading,a=e.images;return Object(u.jsx)(n.Fragment,{children:t?Object(u.jsx)(x.a,{}):Object(u.jsx)("div",{className:"grid",children:a.map((function(e,t){return Object(u.jsx)(S,{image:e},t)}))})})}),Y=a(73),M=a.n(Y),T=a(74),B=a.n(T),F="https://api.nasa.gov/planetary/apod",I=M.a.create({baseURL:F,timeout:1e4});B()(I,{retries:3,shouldResetTimeout:!0,retryDelay:function(e){return 2e3*e}});var J=I,L=(a(143),function(e){var t=e.startDate,a=e.clicker,c=Object(n.useState)([]),i=Object(s.a)(c,2),r=i[0],l=i[1],d=Object(n.useState)(!1),b=Object(s.a)(d,2),j=b[0],m=b[1],h=o()().format("YYYY-MM-DD");Object(n.useEffect)((function(){O()}),[a]);var O=function(){m(!0);var e="".concat(F,"?api_key=").concat("U2TiaNUBuC9WfVnbkXciJtbq7Z5KJxaFrnJkx0nJ","&start_date=").concat(t,"&end_date=").concat(h,"&thumbs=true");J.get(e).then((function(e){l(x(e.data))})).catch((function(e){console.log(e),alert("Error occurred while fetching images."),l([])})).finally((function(){m(!1)}))},x=function(e){return e.map((function(e,t){var a=e.media_type,n=e.thumbnail_url,c=e.url,i=t,r="video"===a&&""!==n?n:c;return Object(f.a)(Object(f.a)({},e),{id:i,imageUrl:r})}))};return Object(u.jsx)(C,{images:r,isLoading:j})});var U=function(){var e=Object(n.useState)(o()().format("YYYY-MM-DD")),t=Object(s.a)(e,2),a=t[0],c=t[1],i=Object(n.useState)(0),r=Object(s.a)(i,2),l=r[0],d=r[1];return Object(u.jsx)("div",{className:"App",children:Object(u.jsxs)(O,{children:[Object(u.jsxs)("header",{role:"banner",children:[Object(u.jsx)("h1",{className:"header-title",children:"Spacestagram"}),Object(u.jsx)("h2",{className:"subheader-title",children:"Image-sharing from the final frontier"})]}),Object(u.jsxs)("main",{role:"main",children:[Object(u.jsx)("section",{children:Object(u.jsx)(h,{startDate:a,clicker:l,setStartDate:c,setClicker:d})}),Object(u.jsx)("section",{children:Object(u.jsx)(L,{startDate:a,clicker:l})})]})]})})},E=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,175)).then((function(t){var a=t.getCLS,n=t.getFID,c=t.getFCP,i=t.getLCP,r=t.getTTFB;a(e),n(e),c(e),i(e),r(e)}))};r.a.render(Object(u.jsx)(c.a.StrictMode,{children:Object(u.jsx)(U,{})}),document.getElementById("root")),E()},95:function(e,t,a){},97:function(e,t,a){},98:function(e,t,a){}},[[144,1,2]]]);
//# sourceMappingURL=main.8c64ac0d.chunk.js.map