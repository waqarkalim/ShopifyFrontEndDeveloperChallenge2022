{"version":3,"sources":["components/DatePicker/index.ts","components/DatePicker/DatePicker.tsx","components/SelectionBar/index.ts","components/SelectionBar/SelectionBar.tsx","components/Layout/index.ts","components/Layout/Layout.tsx","components/ImageCard/index.ts","components/ImageCard/ImageCard.tsx","constants.ts","storage.ts","components/DisplayGrid/DisplayGrid.tsx","components/DisplayGrid/index.ts","api.ts","components/ImageContainer/index.ts","components/ImageContainer/ImageContainer.tsx","App.tsx","reportWebVitals.ts","index.tsx"],"names":["DatePicker","id","label","date","onChange","handleDateChange","value","libInstance","moment","utils","MomentUtils","disableToolbar","variant","format","margin","autoOk","inputValue","maxDate","Date","KeyboardButtonProps","SelectionBar","startDate","clicker","setStartDate","setClicker","className","aria-label","type","onClick","Layout","children","ImageCard","image","toggleLiked","useState","isExpanded","setExpanded","title","imageUrl","explanation","isLiked","alt","src","aria-pressed","aria-expanded","aria-controls","role","hidden","aria-labelledby","aria-hidden","API_URL","SHOPIFY_IS_AWESOME","store","require","_","DisplayGrid","isLoading","images","setImages","index","newArr","get","set","omit","CircularProgress","map","client","axios","create","baseURL","ImageContainer","setLoading","endDate","useEffect","reduce","acc","curr","fetchImages","URL","API","then","response","processImages","data","catch","err","error","code","Error","handleError","message","alert","finally","media_type","thumbnail_url","url","App","window","open","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.90e44825.chunk.js","sourcesContent":["import DatePicker from './DatePicker';\n\nexport default DatePicker;\n","import { ReactElement } from 'react';\nimport {\n\tMuiPickersUtilsProvider,\n\tKeyboardDatePicker,\n} from '@material-ui/pickers';\nimport MomentUtils from '@date-io/moment';\nimport moment from 'moment';\n\nimport './styles.scss';\n\ntype Props = {\n\tid: string;\n\tlabel: string;\n\tdate: string;\n\tonChange: (date: string) => void;\n};\n\n/**\n * @description The DataPicker component is a component for selecting dates using the Material UI Pickers\n *\n * @param {string} id\n * @param {string} label\n * @param {string} date\n * @param {function} onChange\n * @returns ReactElement\n */\nconst DatePicker = ({ id, label, date, onChange }: Props): ReactElement => {\n\tconst handleDateChange = (value: string) => {\n\t\tonChange(value);\n\t};\n\n\treturn (\n\t\t<MuiPickersUtilsProvider libInstance={moment} utils={MomentUtils}>\n\t\t\t<KeyboardDatePicker\n\t\t\t\tid={id}\n\t\t\t\tlabel={label}\n\t\t\t\tdisableToolbar // Disable toolbar on date picker\n\t\t\t\tvariant=\"inline\"\n\t\t\t\tformat=\"YYYY-MM-DD\"\n\t\t\t\tmargin=\"normal\"\n\t\t\t\tautoOk={true}\n\t\t\t\tinputValue={date}\n\t\t\t\tvalue={date}\n\t\t\t\tonChange={(date, value) => handleDateChange(value as string)}\n\t\t\t\tmaxDate={new Date()} // Set today's date as the max start date\n\t\t\t\tKeyboardButtonProps={{\n\t\t\t\t\t'aria-label': 'change date',\n\t\t\t\t}}\n\t\t\t/>\n\t\t</MuiPickersUtilsProvider>\n\t);\n};\n\nexport default DatePicker;\n","import SelectionBar from './SelectionBar';\n\nexport default SelectionBar;\n","import { ReactElement } from 'react';\n\nimport DatePicker from './../DatePicker';\n\nimport './styles.scss';\n\ntype Props = {\n\tstartDate: string;\n\tclicker: number;\n\tsetStartDate: (startDate: string) => void;\n\tsetClicker: (clicker: number) => void;\n};\n\n/**\n * @description The SelectionBar is a component that allows the user to select their input for the API as well as allows them to fetch the images\n *\n * @param {string} startDate\n * @param {number} clicker\n * @param {function} setStartDate\n * @param {function} setClicker\n * @returns ReactElement\n */\nconst SelectionBar = ({\n\tstartDate,\n\tclicker,\n\tsetStartDate,\n\tsetClicker,\n}: Props): ReactElement => {\n\tconst handlePullImagesButtonClick = (): void => {\n\t\tsetClicker(clicker + 1);\n\t};\n\n\treturn (\n\t\t<div id=\"selection-bar\" className=\"selection-bar\">\n\t\t\t{/* The date input component to select the starting date for the API  */}\n\t\t\t<DatePicker\n\t\t\t\tid=\"start-date\"\n\t\t\t\tlabel=\"Select Start Date\"\n\t\t\t\tdate={startDate}\n\t\t\t\tonChange={setStartDate}\n\t\t\t\taria-label=\"Select Start Date\"\n\t\t\t/>\n\n\t\t\t{/* Easter Egg Indicator */}\n\t\t\t<div className=\"easter-egg-text\">\n\t\t\t\t<p>There might be an easter egg in the headings</p>\n\t\t\t</div>\n\n\t\t\t{/* The button that is clicked to pull the data from the API  */}\n\t\t\t<button\n\t\t\t\ttype=\"button\"\n\t\t\t\tclassName=\"btn ripple\"\n\t\t\t\tonClick={handlePullImagesButtonClick}\n\t\t\t\taria-label=\"Click Here To Pull Images\"\n\t\t\t>\n\t\t\t\tClick Here To Pull Images\n\t\t\t</button>\n\t\t</div>\n\t);\n};\n\nexport default SelectionBar;\n","import Layout from './Layout';\n\nexport default Layout;\n","import { ReactElement } from 'react';\n\nimport './styles.scss';\n\ntype Props = {\n\tchildren: ReactElement[];\n};\n\n/**\n * @description The Layout component is a component that contains all of the elements of the website\n *\n * @param {ReactElement[]} children\n * @returns ReactElement\n */\nconst Layout = ({ children }: Props): ReactElement => {\n\treturn <div className=\"layout\">{children}</div>;\n};\n\nexport default Layout;\n","import ImageCard from './ImageCard';\n\nexport default ImageCard;\n","import { ReactElement, useState } from 'react';\n\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\n\nimport FavoriteBorderIcon from '@material-ui/icons/FavoriteBorder';\nimport FavoriteIcon from '@material-ui/icons/Favorite';\n\nimport { Image } from './../../types';\n\nimport './styles.scss';\n\ntype Props = {\n\timage: Image;\n\ttoggleLiked: (index: number) => void;\n};\n\n/**\n * @description The ImageCard component is a component for displaying the information about each image\n */\nconst ImageCard = ({ image, toggleLiked }: Props): ReactElement => {\n\tconst [isExpanded, setExpanded] = useState<boolean>(false);\n\n\tconst { id, date, title, imageUrl, explanation, isLiked } = image;\n\n\tconst toggleExpanded = (): void => {\n\t\tsetExpanded(!isExpanded);\n\t};\n\n\treturn (\n\t\t<div id={`image-card-${id}`} className=\"image-card\">\n\t\t\t{/* Displaying the header titles of each image card */}\n\t\t\t<div id={`image-header-${id}`}>\n\t\t\t\t<div\n\t\t\t\t\tid={`image-title-${id}`}\n\t\t\t\t\tclassName=\"image-title\"\n\t\t\t\t\taria-label={title}\n\t\t\t\t>\n\t\t\t\t\t<p>{title}</p>\n\t\t\t\t</div>\n\t\t\t\t<div id={`image-date-${id}`} className=\"image-date\" aria-label={date}>\n\t\t\t\t\t<p>{date}</p>\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t{/* Displaying the actual image of each image card */}\n\t\t\t<img\n\t\t\t\tid={`image-media-${id}`}\n\t\t\t\tclassName=\"image-media\"\n\t\t\t\talt={title}\n\t\t\t\tsrc={imageUrl}\n\t\t\t/>\n\n\t\t\t{/* Displaying the like button and the expand description button for each image card */}\n\t\t\t<div className=\"btn-section\">\n\t\t\t\t<div>\n\t\t\t\t\t<button\n\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\tid={`like-button-${id}`}\n\t\t\t\t\t\tclassName=\"like-btn\"\n\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\ttoggleLiked(id);\n\t\t\t\t\t\t}}\n\t\t\t\t\t\taria-pressed={isLiked}\n\t\t\t\t\t\taria-label=\"Like Button\"\n\t\t\t\t\t>\n\t\t\t\t\t\t{isLiked ? (\n\t\t\t\t\t\t\t<FavoriteIcon className=\"liked-btn\" />\n\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t<FavoriteBorderIcon />\n\t\t\t\t\t\t)}\n\t\t\t\t\t</button>\n\t\t\t\t</div>\n\t\t\t\t<div>\n\t\t\t\t\t<button\n\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\tid={`expand-button-${id}`}\n\t\t\t\t\t\tclassName=\"expand-btn\"\n\t\t\t\t\t\tonClick={toggleExpanded}\n\t\t\t\t\t\taria-expanded={isExpanded}\n\t\t\t\t\t\taria-label=\"Expand Button\"\n\t\t\t\t\t\taria-controls=\"image-description\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<ExpandMoreIcon\n\t\t\t\t\t\t\tclassName={`expand ${isExpanded ? 'expand-open' : ''}`}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</button>\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t{/* The hidden image description section that can only be shown when the `expand-button-${id}` button is clicked */}\n\t\t\t<div\n\t\t\t\trole=\"region\"\n\t\t\t\tid={`image-description-${id}`}\n\t\t\t\tclassName=\"image-description\"\n\t\t\t\thidden={!isExpanded}\n\t\t\t\taria-label={explanation}\n\t\t\t\taria-labelledby={`expand-button-${id}`}\n\t\t\t\taria-hidden={!isExpanded}\n\t\t\t>\n\t\t\t\t<p>{explanation}</p>\n\t\t\t</div>\n\t\t</div>\n\t);\n};\n\nexport default ImageCard;\n","export const API_KEY = `U2TiaNUBuC9WfVnbkXciJtbq7Z5KJxaFrnJkx0nJ`;\n\nexport const API_URL = `https://api.nasa.gov/planetary/apod`;\n\nexport const SHOPIFY_IS_AWESOME = `Shopify_is_Awesome`; // Key used to store like status of each image in local storage\n\nexport const PERSONAL_WEBSITE_URL = `https://waqarkalim.github.io`;\n","const store = require('store');\n\nexport default store;\n","import { Fragment, ReactElement } from 'react';\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport ImageCard from './../ImageCard';\n\nimport { SHOPIFY_IS_AWESOME } from './../../constants';\n\nimport store from './../../storage';\n\nimport { Image, TImageList } from './../../types';\n\nimport './styles.scss';\n\nconst _ = require('lodash');\n\ntype Props = {\n\tisLoading: boolean;\n\timages: TImageList;\n\tsetImages: (images: TImageList) => void;\n};\n\n/**\n * @description The DisplayGrid component is a component for displaying all of the images\n */\nconst DisplayGrid = ({ isLoading, images, setImages }: Props): ReactElement => {\n\tconst toggleLiked = (index: number): void => {\n\t\tconst newArr: TImageList = [...images];\n\n\t\t// If SHOPIFY_IS_AWESOME is in local storage\n\t\tif (store.get(SHOPIFY_IS_AWESOME)) {\n\t\t\t// If an image is liked, the imageUrl is added to local storage with a true flag, else the imageUrl is removed from local storage\n\t\t\tif (!newArr[index].isLiked)\n\t\t\t\tstore.set(SHOPIFY_IS_AWESOME, {\n\t\t\t\t\t...store.get(SHOPIFY_IS_AWESOME),\n\t\t\t\t\t...{ [newArr[index].imageUrl]: !newArr[index].isLiked },\n\t\t\t\t});\n\t\t\telse\n\t\t\t\tstore.set(\n\t\t\t\t\tSHOPIFY_IS_AWESOME,\n\t\t\t\t\t_.omit(store.get(SHOPIFY_IS_AWESOME), newArr[index].imageUrl)\n\t\t\t\t);\n\t\t}\n\n\t\tnewArr[index].isLiked = !newArr[index].isLiked;\n\n\t\tsetImages(newArr);\n\t};\n\n\treturn (\n\t\t<Fragment>\n\t\t\t{isLoading ? (\n\t\t\t\t<CircularProgress />\n\t\t\t) : (\n\t\t\t\t<div className=\"grid\">\n\t\t\t\t\t{images.map((image: Image, index: number) => (\n\t\t\t\t\t\t<ImageCard key={index} image={image} toggleLiked={toggleLiked} />\n\t\t\t\t\t))}\n\t\t\t\t</div>\n\t\t\t)}\n\t\t</Fragment>\n\t);\n};\n\nexport default DisplayGrid;\n","import DisplayGrid from './DisplayGrid';\n\nexport default DisplayGrid;\n","import axios from 'axios';\n\nimport { API_URL } from './constants';\n\nexport const client = axios.create({\n\tbaseURL: API_URL, // assigning base URL for endpoints\n});\n\nexport const handleError = (error: any): Error => {\n\tif (error.response.data.code === 500)\n\t\treturn new Error(\n\t\t\t'Error occurred, please try again with a start date nearer to today'\n\t\t);\n\n\treturn new Error('Error occurred while fetching data');\n};\n","import ImageContainer from './ImageContainer';\n\nexport default ImageContainer;\n","import { ReactElement, useEffect, useState } from 'react';\nimport moment from 'moment';\nimport { AxiosResponse } from 'axios';\n\nimport DisplayGrid from './../DisplayGrid';\n\nimport { client as API, handleError } from './../../api';\nimport { API_URL, API_KEY, SHOPIFY_IS_AWESOME } from './../../constants';\n\nimport { Image, TImageList } from './../../types';\n\nimport store from './../../storage';\n\nimport './styles.scss';\n\ntype Props = {\n\tstartDate: string;\n\tclicker: number;\n};\n\nconst VIDEO_MEDIA_TYPE: string = 'video';\n\n/**\n * @description The ImageContainer component is a component for fetching the images from NASA's API before displaying them. (Employs the Container Component Pattern to separate the logic and the view)\n */\nconst ImageContainer = ({ startDate, clicker }: Props): ReactElement => {\n\tconst [images, setImages] = useState<TImageList>([]);\n\tconst [isLoading, setLoading] = useState<boolean>(false);\n\n\tconst endDate: string = moment().format('YYYY-MM-DD');\n\n\tuseEffect(() => {\n\t\t// If like status for each of the liked images is NOT stored in local storage, repopulate local storage with the like information stored in the props\n\t\tif (!store.get(SHOPIFY_IS_AWESOME))\n\t\t\tstore.set(\n\t\t\t\tSHOPIFY_IS_AWESOME,\n\t\t\t\timages.reduce((acc: Record<string, boolean>, curr: Image) => {\n\t\t\t\t\tif (curr.isLiked) {\n\t\t\t\t\t\tacc[curr.imageUrl] = curr.isLiked;\n\t\t\t\t\t}\n\t\t\t\t\treturn acc;\n\t\t\t\t}, {})\n\t\t\t);\n\t}, [images]);\n\n\t// Initiating fetching whenever the pull images button is pressed\n\tuseEffect(() => {\n\t\tfetchImages();\n\t}, [clicker]);\n\n\t// Fetching images from NASA API, timeout set to 10 seconds\n\tconst fetchImages = (): void => {\n\t\tsetLoading(true);\n\t\tconst URL: string = `${API_URL}?api_key=${API_KEY}&start_date=${startDate}&end_date=${endDate}&thumbs=true`;\n\n\t\tAPI.get<TImageList>(URL)\n\t\t\t.then((response: AxiosResponse<any>) => {\n\t\t\t\tsetImages(processImages(response.data));\n\t\t\t})\n\t\t\t.catch((err: any) => {\n\t\t\t\tconst error: Error = handleError(err);\n\n\t\t\t\tif (error.message) alert(error.message);\n\t\t\t\telse alert(`Error occurred while fetching images.`);\n\n\t\t\t\tsetImages([]);\n\t\t\t})\n\t\t\t.finally(() => {\n\t\t\t\tsetLoading(false);\n\t\t\t});\n\t};\n\n\t// Retrieving the appropriate image url for each image object (for the case where the media type is video and so the url property points to a video and not an image)\n\tconst processImages = (images: TImageList): TImageList => {\n\t\treturn images.map((image: Image, index: number): Image => {\n\t\t\tconst { media_type, thumbnail_url, url } = image;\n\n\t\t\t// As the API does not return any unique id for each image and the code is only using the id for accessiblity purposes, we are considering the array index as our unique id\n\t\t\tconst id: number = index;\n\n\t\t\t// If media_type is video and thumbnail exists and then assign the video thumbnail as the display image\n\t\t\tconst imageUrl: string =\n\t\t\t\tmedia_type === VIDEO_MEDIA_TYPE && thumbnail_url !== ''\n\t\t\t\t\t? thumbnail_url\n\t\t\t\t\t: url;\n\n\t\t\tconst isLiked: boolean = store.get(SHOPIFY_IS_AWESOME)[imageUrl] || false;\n\n\t\t\treturn { ...image, ...{ id: id, imageUrl: imageUrl, isLiked: isLiked } };\n\t\t});\n\t};\n\n\treturn (\n\t\t<DisplayGrid images={images} isLoading={isLoading} setImages={setImages} />\n\t);\n};\n\nexport default ImageContainer;\n","import { useState, useEffect } from 'react';\nimport moment from 'moment';\n\nimport './App.css';\n\nimport SelectionBar from './components/SelectionBar';\nimport Layout from './components/Layout';\nimport ImageContainer from './components/ImageContainer';\n\nimport store from './storage';\n\nimport { SHOPIFY_IS_AWESOME, PERSONAL_WEBSITE_URL } from './constants';\n\nfunction App() {\n\tconst [startDate, setStartDate] = useState<string>(\n\t\tmoment().format('YYYY-MM-DD')\n\t);\n\tconst [clicker, setClicker] = useState<number>(0); // The clicker state acts as a counter to detect when the user clicks\n\n\t// Creating a dictionary in local storage to store the like status of each image\n\tuseEffect(() => {\n\t\tif (!store.get(SHOPIFY_IS_AWESOME)) store.set(SHOPIFY_IS_AWESOME, {});\n\t}, []);\n\n\treturn (\n\t\t<div className=\"App\">\n\t\t\t<Layout>\n\t\t\t\t<header role=\"banner\">\n\t\t\t\t\t<h1 className=\"header-title\">Spacestagram</h1>\n\t\t\t\t\t<h2 className=\"subheader-title\">\n\t\t\t\t\t\tImage-sharing from{' '}\n\t\t\t\t\t\t<span\n\t\t\t\t\t\t\tclassName=\"easter-egg\"\n\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\twindow.open(PERSONAL_WEBSITE_URL);\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\tthe final frontier\n\t\t\t\t\t\t</span>\n\t\t\t\t\t</h2>\n\t\t\t\t</header>\n\t\t\t\t<main role=\"main\">\n\t\t\t\t\t<section>\n\t\t\t\t\t\t<SelectionBar\n\t\t\t\t\t\t\tstartDate={startDate}\n\t\t\t\t\t\t\tclicker={clicker}\n\t\t\t\t\t\t\tsetStartDate={setStartDate}\n\t\t\t\t\t\t\tsetClicker={setClicker}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</section>\n\t\t\t\t\t<section>\n\t\t\t\t\t\t<ImageContainer startDate={startDate} clicker={clicker} />\n\t\t\t\t\t</section>\n\t\t\t\t</main>\n\t\t\t</Layout>\n\t\t</div>\n\t);\n}\n\nexport default App;\n","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n\t<React.StrictMode>\n\t\t<App />\n\t</React.StrictMode>,\n\tdocument.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}